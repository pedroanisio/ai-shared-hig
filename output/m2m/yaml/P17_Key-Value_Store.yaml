id: P17
version: '1.1'
schema_version: '1.0'
metadata:
  name: Key-Value Store
  category: pattern
  status: stable
  complexity: medium
  domains: []
definition:
  tuple_notation: $K = (store, get, set, delete)$
  description: ''
  components:
  - name: store
    type: Map⟨Key, Value⟩
    notation: store
    description: storage
  - name: get
    type: Key → Value | null
    notation: get
    description: retrieves values
  - name: set
    type: Key × Value → Effect
    notation: set
    description: stores values
  - name: delete
    type: Key → Effect
    notation: delete
    description: removes entries
type_definitions: []
properties:
- id: P.P17.1
  name: Fast Lookup
  formal_spec: get(key) completes in O(1) average time
  description: ''
  invariants: []
- id: P.P17.2
  name: Atomic Operations
  formal_spec: set and delete are atomic
  description: ''
  invariants: []
operations:
- name: Get
  signature: 'get(key: Key) → Value | null'
  formal_definition: "```\n   get(key: Key) → Value | null\n   = store[key] if key ∈ keys(store) else\
    \ null"
  preconditions: []
  postconditions: []
  effects: []
- name: Set
  signature: 'set(key: Key, value: Value) → Effect'
  formal_definition: "```\n   set(key: Key, value: Value) → Effect\n   = store[key] := value"
  preconditions: []
  postconditions: []
  effects: []
- name: Delete
  signature: 'delete(key: Key) → Effect'
  formal_definition: "```\n   delete(key: Key) → Effect\n   = store := store ∖ {key}"
  preconditions: []
  postconditions: []
  effects: []
manifestations:
- name: Cache
  description: ''
- name: Settings storage
  description: ''
- name: Session state
  description: ''
- name: Metadata store
  description: ''
