id: P18
version: '1.1'
schema_version: '1.0'
metadata:
  name: Relational Database
  category: pattern
  status: stable
  complexity: medium
  domains: []
definition:
  tuple_notation: $R = (tables, schemas, constraints, indices)$
  description: ''
  components:
  - name: tables
    type: Map⟨String, Table⟩
    notation: tables
    description: data tables
  - name: schemas
    type: Map⟨String, Schema⟩
    notation: schemas
    description: define table structures
  - name: constraints
    type: Set⟨Constraint⟩
    notation: constraints
    description: enforce integrity
  - name: indices
    type: Map⟨(Table, Column), Index⟩
    notation: indices
    description: speed queries
type_definitions:
- name: Table
  definition: Set⟨Row⟩
  notation: Table := Set⟨Row⟩
- name: Row
  definition: Map⟨String, Value⟩  // column → value
  notation: Row := Map⟨String, Value⟩  // column → value
- name: Schema
  definition: 'Sequence⟨(name: String, type: Type, constraints: Set⟨Constraint⟩)⟩'
  notation: 'Schema := Sequence⟨(name: String, type: Type, constraints: Set⟨Constraint⟩)⟩'
- name: Constraint
  definition: PrimaryKey | ForeignKey | Unique | NotNull | Check(predicate)
  notation: Constraint := PrimaryKey | ForeignKey | Unique | NotNull | Check(predicate)
properties:
- id: P.P18.1
  name: ACID
  formal_spec: 'Atomicity: Transactions complete fully or not at all

    Consistency: Constraints always satisfied

    Isolation: Concurrent transactions don''t interfere

    Durability: Committed changes persist'
  description: ''
  invariants: []
- id: P.P18.2
  name: Relational Algebra
  formal_spec: 'Queries expressed as: SELECT, PROJECT, JOIN, UNION, DIFFERENCE'
  description: ''
  invariants: []
operations:
- name: Insert
  signature: ''
  formal_definition: "```\n   INSERT INTO table VALUES (...)"
  preconditions: []
  postconditions: []
  effects: []
- name: Select
  signature: ''
  formal_definition: "```\n   SELECT columns FROM table WHERE predicate ORDER BY columns"
  preconditions: []
  postconditions: []
  effects: []
- name: Join
  signature: ''
  formal_definition: "```\n   SELECT * FROM table1 JOIN table2 ON table1.key = table2.foreign_key"
  preconditions: []
  postconditions: []
  effects: []
manifestations:
- name: Content database
  description: ''
- name: File metadata
  description: ''
- name: User data
  description: ''
- name: Application state
  description: ''
