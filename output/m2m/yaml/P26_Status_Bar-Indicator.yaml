id: P26
version: '1.1'
schema_version: '1.0'
metadata:
  name: Status Bar/Indicator
  category: pattern
  status: stable
  complexity: medium
  domains: []
definition:
  tuple_notation: $S = (indicators, messages, progress, position)$
  description: ''
  components:
  - name: indicators
    type: Map⟨String, Indicator⟩
    notation: indicators
    description: status widgets
  - name: messages
    type: Queue⟨Message⟩
    notation: messages
    description: temporary messages
  - name: progress
    type: Sequence⟨ProgressBar⟩
    notation: progress
    description: show ongoing tasks
  - name: position
    type: \{\text{top}, \text{bottom}, \text{left}, \text{right}\}
    notation: position
    description: location
type_definitions:
- name: Indicator
  definition: '(icon: Icon, text: String, status: Status, tooltip: String)'
  notation: 'Indicator := (icon: Icon, text: String, status: Status, tooltip: String)'
- name: Status
  definition: Idle | Active | Success | Warning | Error
  notation: Status := Idle | Active | Success | Warning | Error
- name: Message
  definition: '(text: String, level: Level, timestamp: Time)'
  notation: 'Message := (text: String, level: Level, timestamp: Time)'
- name: Level
  definition: Info | Warning | Error
  notation: Level := Info | Warning | Error
- name: ProgressBar
  definition: '(label: String, current: ℕ, total: ℕ)'
  notation: 'ProgressBar := (label: String, current: ℕ, total: ℕ)'
properties:
- id: P.P26.1
  name: Always Visible
  formal_spec: Status bar persistently visible
  description: ''
  invariants: []
- id: P.P26.2
  name: Non-Intrusive
  formal_spec: Doesn't block interaction with main content
  description: ''
  invariants: []
- id: P.P26.3
  name: Contextual Information
  formal_spec: Shows relevant info for current state/selection
  description: ''
  invariants: []
operations:
- name: Add Indicator
  signature: 'add_indicator(id: String, indicator: Indicator) → Effect'
  formal_definition: "```\n   add_indicator(id: String, indicator: Indicator) → Effect\n   = indicators[id]\
    \ := indicator\n     render(status_bar)"
  preconditions: []
  postconditions: []
  effects: []
- name: Show Message
  signature: 'show_message(text: String, level: Level) → Effect'
  formal_definition: "```\n   show_message(text: String, level: Level) → Effect\n   = messages := enqueue(messages,\
    \ Message(text, level, now()))\n     schedule(clear_message, 3000)  // Clear after 3s"
  preconditions: []
  postconditions: []
  effects: []
- name: Update Progress
  signature: 'update_progress(id: String, current: ℕ, total: ℕ) → Effect'
  formal_definition: "```\n   update_progress(id: String, current: ℕ, total: ℕ) → Effect\n   = progress[id].current\
    \ := current\n     progress[id].total := total\n     render(progress_bar)\n```\n- Connection status:\
    \ \"\U0001F7E2 Online\" / \"\U0001F534 Offline\"\n- Sync status: \"✓ Synced\" / \"⏱ Syncing...\"\n\
    - Agent status: \"\U0001F916 AI: Ready\" / \"\U0001F916 AI: Thinking...\"\n- Selection info: \"3 items\
    \ selected\"\n- Cursor position: \"Ln 42, Col 18\""
  preconditions: []
  postconditions: []
  effects: []
manifestations:
- name: IDE status bar
  description: VS Code
- name: Browser status bar
  description: ''
- name: Activity indicator
  description: apps
- name: Connection status
  description: networks
