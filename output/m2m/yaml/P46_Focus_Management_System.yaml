id: P46
version: '1.1'
schema_version: '1.0'
metadata:
  name: Focus Management System
  category: pattern
  status: stable
  complexity: medium
  domains: []
definition:
  tuple_notation: $F = (O, \tau_{46}, R, I, S)$
  description: ''
  components:
  - name: O
    type: UI → Sequence⟨Element⟩
    notation: O
    description: '**focus order function**'
  - name: \tau_{46}
    type: Element → \{\text{tabbable}, \text{not\_tabbable}\}
    notation: \tau_{46}
    description: '**tabbability**'
  - name: R
    type: Modal → Element
    notation: R
    description: '**focus restoration function**'
  - name: I
    type: Element → VisualIndicator
    notation: I
    description: '**indicator rendering**'
type_definitions: []
properties: []
operations:
- name: Move Focus Forward
  signature: next_focus() → Effect
  formal_definition: "```\n   next_focus() → Effect\n   = order := O(active_scope)\n     index := indexOf(focused,\
    \ order)\n     focus(order[(index + 1) mod |order|])"
  preconditions: []
  postconditions: []
  effects: []
- name: Trap Focus
  signature: 'trap(modal: Modal) → Effect'
  formal_definition: "```\n   trap(modal: Modal) → Effect\n   = S := descendants(modal)\n     R(modal)\
    \ := currently_focused\n     focus(first_tabbable(S))"
  preconditions: []
  postconditions: []
  effects: []
manifestations:
- name: Modal dialog focus trap
  description: ''
- name: Keyboard navigation
  description: ''
- name: Skip links
  description: ''
- name: Accessible widgets
  description: ''
