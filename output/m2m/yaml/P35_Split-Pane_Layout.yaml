id: P35
version: '1.1'
schema_version: '1.0'
metadata:
  name: Split-Pane Layout
  category: pattern
  status: stable
  complexity: medium
  domains: []
definition:
  tuple_notation: $S = (P, D, R, \delta_{35}, \sigma_{35})$
  description: ''
  components:
  - name: R
    type: P → [0,1]
    notation: R
    description: maps panes to **proportional sizes**
  - name: \delta_{35}
    type: P \times P → \{\text{splitter}, \text{null}\}
    notation: \delta_{35}
    description: indicates splitters
  - name: \sigma_{35}
    type: P → \{\text{visible}, \text{collapsed}\}
    notation: \sigma_{35}
    description: '**state function**'
type_definitions: []
properties:
- id: P.P35.1
  name: Size Conservation
  formal_spec: ∑_{p ∈ P, σ₃₅(p) = visible} R(p) = 1
  description: ''
  invariants: []
- id: P.P35.2
  name: Adjacency Constraints
  formal_spec: '∀p_i, p_j ∈ P: δ₃₅(p_i, p_j) = splitter ⇔ adjacent(p_i, p_j)'
  description: ''
  invariants: []
- id: P.P35.3
  name: Minimum Size Constraint
  formal_spec: '∀p ∈ P: R(p) ≥ R_min(p) ∨ σ₃₅(p) = collapsed'
  description: ''
  invariants: []
operations:
- name: Resize
  signature: 'resize(p_i: Pane, p_j: Pane, Δ: ℝ) → Effect'
  formal_definition: "```\n   resize(p_i: Pane, p_j: Pane, Δ: ℝ) → Effect\n   = if R_min(p_i) ≤ R(p_i)\
    \ + Δ ≤ R_max(p_i):\n       R(p_i) := R(p_i) + Δ\n       R(p_j) := R(p_j) - Δ\n2. **Toggle Collapse:\n\
    ```\n   toggle(p: Pane) → Effect\n   = σ₃₅(p) := if σ₃₅(p) = visible then collapsed else visible\n\
    \     redistribute_space()\n3. Persist Layout:**\n```\n   persist(S) → Storage\n   = save({pane_id:\
    \ R(pane), state: σ₃₅(pane)} for pane in P)"
  preconditions: []
  postconditions: []
  effects: []
manifestations:
- name: 3-column CMS editor
  description: ''
- name: VS Code panels
  description: ''
- name: Split terminal windows
  description: ''
- name: IDE layouts
  description: ''
