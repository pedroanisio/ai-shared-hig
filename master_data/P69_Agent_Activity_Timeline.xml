<?xml version="1.0" ?>
<pattern xmlns="http://universal-corpus.org/schema/v1" id="P69" version="1.1">
  <metadata>
    <name>Agent Activity Timeline</name>
    <category>pattern</category>
    <status>stable</status>
    <complexity>medium</complexity>
  </metadata>
  <definition>
    <tuple-notation format="latex">$T_{activity} = (Events, Timeline, Agents, Actions) : Agent 	imes Time 	o Activity_{log}$</tuple-notation>
    <components>
      <component>
        <name>Events</name>
        <type>Seq⟨Event⟩</type>
        <notation>Events</notation>
        <description>chronological sequence of agent events</description>
      </component>
      <component>
        <name>Timeline</name>
        <type>Time → Set⟨Event⟩</type>
        <notation>Timeline</notation>
        <description>temporal mapping of events</description>
      </component>
      <component>
        <name>Agents</name>
        <type>Set⟨Agent⟩</type>
        <notation>Agents</notation>
        <description>set of agents being tracked</description>
      </component>
      <component>
        <name>Actions</name>
        <type>Event → ActionType</type>
        <notation>Actions</notation>
        <description>classification of event types</description>
      </component>
    </components>
  </definition>
  <type-definitions>
    <type-def>
      <name>Event</name>
      <definition>$\text{Event} = (\text{agent}, \text{action}, \text{timestamp}, \text{data}, \text{outcome})$</definition>
    </type-def>
    <type-def>
      <name>ActionType</name>
      <definition>$\text{ActionType} = \{\text{start}, \text{think}, \text{tool\_call}, \text{decision}, \text{complete}, \text{handoff}\}$</definition>
    </type-def>
    <type-def>
      <name>ActivityLog</name>
      <definition>$\text{Activity}_{log} = \text{Seq}\langle \text{Event} \rangle$ (ordered by timestamp)</definition>
    </type-def>
  </type-definitions>
  <properties>
    <property id="P.P69.1">
      <name>Chronological Ordering</name>
      <formal-spec format="latex">$\forall e_1, e_2 \in Events : e_1.timestamp &lt; e_2.timestamp \implies \text{index}(e_1) &lt; \text{index}(e_2)$</formal-spec>
    </property>
    <property id="P.P69.2">
      <name>Complete Agent Coverage</name>
      <formal-spec format="latex">$\forall a \in Agents : \exists e \in Events : e.agent = a$ (all agents have events)</formal-spec>
    </property>
    <property id="P.P69.3">
      <name>Event Causality</name>
      <formal-spec format="latex">$\forall e_1, e_2 : e_1 \xrightarrow{\text{causes}} e_2 \implies e_1.timestamp &lt; e_2.timestamp$</formal-spec>
    </property>
    <property id="P.P69.4">
      <name>Real-Time Updates</name>
      <formal-spec format="latex">$\forall e \in Events : \Delta t_{display} = t_{show}(e) - e.timestamp &lt; 50ms$</formal-spec>
    </property>
  </properties>
  <operations>
    <operation>
      <name>Log Event</name>
      <signature>log: Event → Events</signature>
      <formal-definition format="latex">$\text{log}(e) = Events'$ where
  $Events' = Events \oplus [e]$
  $\text{sort}(Events', \lambda e. e.timestamp)$</formal-definition>
    </operation>
    <operation>
      <name>Filter by Agent</name>
      <signature>filter: Agent → Seq⟨Event⟩</signature>
      <formal-definition format="latex">$\text{filter}(a) = \{e \in Events \mid e.agent = a\}$</formal-definition>
    </operation>
    <operation>
      <name>Render Timeline</name>
      <signature>render: Seq⟨Event⟩ → Visualization</signature>
      <formal-definition format="latex">$\text{render}(E) = v$ where
  $v.lanes = \{(a, \text{filter}(a)) \mid a \in Agents\}$
  $v.markers = \{(e.timestamp, e.action) \mid e \in E\}$</formal-definition>
    </operation>
  </operations>
  <dependencies>
    <requires>
      <pattern-ref>P22</pattern-ref>
    </requires>
    <uses>
      <pattern-ref>P68</pattern-ref>
      <pattern-ref>P112</pattern-ref>
      <pattern-ref>P124</pattern-ref>
    </uses>
  </dependencies>
  <manifestations>
    <manifestation>
      <name>LangSmith trace timeline</name>
      <description>chronological view of agent execution</description>
    </manifestation>
    <manifestation>
      <name>CrewAI execution log</name>
      <description>agent activity timeline with actions</description>
    </manifestation>
    <manifestation>
      <name>AutoGPT activity tracker</name>
      <description>real-time agent action timeline</description>
    </manifestation>
    <manifestation>
      <name>Datadog APM for AI agents</name>
      <description>distributed agent tracing timeline</description>
    </manifestation>
  </manifestations>
</pattern>