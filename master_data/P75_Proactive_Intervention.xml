<?xml version="1.0" ?>
<pattern xmlns="http://universal-corpus.org/schema/v1" id="P75" version="1.1">
  <metadata>
    <name>Proactive Intervention</name>
    <category>pattern</category>
    <status>stable</status>
    <complexity>medium</complexity>
  </metadata>
  <definition>
    <tuple-notation format="latex">$I_{proact} = (P_{predict}, T_{timing}, A_{action}, U_{user}) : \text{Context} \to \text{Intervention}$</tuple-notation>
    <components>
      <component>
        <name>P_{predict}</name>
        <type>Context → Prediction</type>
        <notation>P_{predict}</notation>
        <description>prediction function for user needs</description>
      </component>
      <component>
        <name>T_{timing}</name>
        <type>Prediction → Time</type>
        <notation>T_{timing}</notation>
        <description>optimal timing function for intervention</description>
      </component>
      <component>
        <name>A_{action}</name>
        <type>Prediction → Action</type>
        <notation>A_{action}</notation>
        <description>action selection function</description>
      </component>
      <component>
        <name>U_{user}</name>
        <type>UserState</type>
        <notation>U_{user}</notation>
        <description>current user state and cognitive load</description>
      </component>
    </components>
  </definition>
  <type-definitions>
    <type-def>
      <name>Prediction</name>
      <definition>$\text{Prediction} = (\text{need}, \text{confidence}, \text{urgency}, \text{impact})$</definition>
    </type-def>
    <type-def>
      <name>Intervention</name>
      <definition>$\text{Intervention} = (\text{action}, \text{timing}, \text{modality}, \text{priority})$</definition>
    </type-def>
    <type-def>
      <name>UserState</name>
      <definition>$\text{UserState} = (\text{attention}, \text{load}, \text{task}, \text{mood})$</definition>
    </type-def>
  </type-definitions>
  <properties>
    <property id="P.P75.1">
      <name>Proactive Trigger</name>
      <formal-spec format="latex">$\forall i \in \text{Interventions} : t_{intervene}(i) &lt; t_{need}(i)$ (intervenes before need arises)</formal-spec>
    </property>
    <property id="P.P75.2">
      <name>Cognitive Load Awareness</name>
      <formal-spec format="latex">$\forall i : U_{user}.\text{load} > \theta_{high} \implies T_{timing}(i) = \text{defer}$ (respects cognitive state)</formal-spec>
    </property>
    <property id="P.P75.3">
      <name>Confidence Threshold</name>
      <formal-spec format="latex">$\forall p \in \text{Predictions} : p.\text{confidence} \geq \theta_{conf} \implies \text{intervene}(p)$</formal-spec>
    </property>
    <property id="P.P75.4">
      <name>User Acceptance Rate</name>
      <formal-spec format="latex">$\frac{|\text{accepted\_interventions}|}{|\text{all\_interventions}|} > 0.8$ (high acceptance, per PDF)</formal-spec>
    </property>
  </properties>
  <operations>
    <operation>
      <name>Predict Need</name>
      <signature>predict: Context → Prediction</signature>
      <formal-definition format="latex">$\text{predict}(ctx) = p$ where
  $p.\text{need} = \text{LLM}_{predictor}(ctx.\text{history}, ctx.\text{current})$
  $p.\text{confidence} = P(\text{need} | ctx)$
  $p.\text{urgency} = f(ctx.\text{task}.\text{deadline})$</formal-definition>
    </operation>
    <operation>
      <name>Determine Timing</name>
      <signature>timing: Prediction × UserState → Time</signature>
      <formal-definition format="latex">$\text{timing}(p, u) = t$ where
  $t = \begin{cases}
    \text{now} &amp; \text{if } u.\text{load} &lt; \theta_{low} \land p.\text{urgency} = \text{high} \\
    \text{next\_break} &amp; \text{if } u.\text{load} \geq \theta_{low} \\
    \text{defer} &amp; \text{if } p.\text{confidence} &lt; \theta_{conf}
  \end{cases}$</formal-definition>
    </operation>
    <operation>
      <name>Execute Intervention</name>
      <signature>intervene: Prediction → Effect</signature>
      <formal-definition format="latex">$\text{intervene}(p) = $ effect where
  $\text{action} = A_{action}(p)$
  $\text{timing} = T_{timing}(p)$
  $\text{execute}(\text{action}, \text{timing})$</formal-definition>
    </operation>
  </operations>
  <dependencies>
    <uses>
      <pattern-ref>P74</pattern-ref>
      <pattern-ref>P76</pattern-ref>
      <pattern-ref>P77</pattern-ref>
      <pattern-ref>P79</pattern-ref>
    </uses>
  </dependencies>
  <manifestations>
    <manifestation>
      <name>Gmail Smart Reply</name>
      <description>proactively suggests responses</description>
    </manifestation>
    <manifestation>
      <name>GitHub Copilot proactive suggestions</name>
      <description>suggests code before explicitly asked</description>
    </manifestation>
    <manifestation>
      <name>Notion AI writing assistance</name>
      <description>proactive content improvement suggestions</description>
    </manifestation>
    <manifestation>
      <name>Calendar smart scheduling</name>
      <description>proactively suggests meeting times</description>
    </manifestation>
  </manifestations>
</pattern>
