<?xml version='1.0' encoding='utf-8'?>
<ns0:pattern xmlns:ns0="http://universal-corpus.org/schema/v1" id="F1.2" version="1.1">
  <ns0:metadata>
    <ns0:name />
    <ns0:category>pattern</ns0:category>
    <ns0:status>stable</ns0:status>
    <ns0:complexity>medium</ns0:complexity>
  </ns0:metadata>
  <ns0:definition>
    <ns0:tuple-notation format="latex">$I = (source, parser, transformer, integrator)$</ns0:tuple-notation>
    <ns0:components>
      <ns0:component>
        <ns0:name>source</ns0:name>
        <ns0:type>ExternalFormat</ns0:type>
        <ns0:notation>source</ns0:notation>
        <ns0:description>external data source</ns0:description>
      </ns0:component>
      <ns0:component>
        <ns0:name>parser</ns0:name>
        <ns0:type>ExternalFormat → ParsedData</ns0:type>
        <ns0:notation>parser</ns0:notation>
        <ns0:description>parses external format</ns0:description>
      </ns0:component>
      <ns0:component>
        <ns0:name>transformer</ns0:name>
        <ns0:type>ParsedData → InternalData</ns0:type>
        <ns0:notation>transformer</ns0:notation>
        <ns0:description>transforms to internal schema</ns0:description>
      </ns0:component>
      <ns0:component>
        <ns0:name>integrator</ns0:name>
        <ns0:type>InternalData → Effect</ns0:type>
        <ns0:notation>integrator</ns0:notation>
        <ns0:description>integrates into system</ns0:description>
      </ns0:component>
    </ns0:components>
  </ns0:definition>
  <ns0:type-definitions>
    <ns0:type-def>
      <ns0:name>ExternalFormat</ns0:name>
      <ns0:definition format="latex">File | Stream | API Response</ns0:definition>
    </ns0:type-def>
    <ns0:type-def>
      <ns0:name>ParsedData</ns0:name>
      <ns0:definition format="latex">Structured representation of external data</ns0:definition>
    </ns0:type-def>
    <ns0:type-def>
      <ns0:name>InternalData</ns0:name>
      <ns0:definition format="latex">Data conforming to internal schema</ns0:definition>
    </ns0:type-def>
    <ns0:type-def>
      <ns0:name>MergeStrategy</ns0:name>
      <ns0:definition format="latex">Replace | Merge | Append</ns0:definition>
    </ns0:type-def>
  </ns0:type-definitions>
  <ns0:properties>
    <ns0:property id="P.F1.2.1">
      <ns0:name>Format Support</ns0:name>
      <ns0:formal-spec format="latex">∀f ∈ ExternalFormat: parser(f) defined ⇒ supported_format(f)</ns0:formal-spec>
    </ns0:property>
    <ns0:property id="P.F1.2.2">
      <ns0:name>Schema Transformation</ns0:name>
      <ns0:formal-spec format="latex">∀p ∈ ParsedData: transformer(p) conforms to internal schema</ns0:formal-spec>
    </ns0:property>
    <ns0:property id="P.F1.2.3">
      <ns0:name>Conflict Resolution</ns0:name>
      <ns0:formal-spec format="latex">∀d ∈ InternalData: integrator(d) applies merge strategy consistently</ns0:formal-spec>
    </ns0:property>
  </ns0:properties>
  <ns0:operations>
    <ns0:operation>
      <ns0:name>Import</ns0:name>
      <ns0:signature>import(source: ExternalFormat, strategy: MergeStrategy) → Effect</ns0:signature>
      <ns0:formal-definition format="latex">```
   import(source: ExternalFormat, strategy: MergeStrategy) → Effect
   = parsed := parser(source)
     internal := transformer(parsed)
     integrator(internal, strategy)</ns0:formal-definition>
    </ns0:operation>
    <ns0:operation>
      <ns0:name>Parse</ns0:name>
      <ns0:signature>parse(source: ExternalFormat) → ParsedData</ns0:signature>
      <ns0:formal-definition format="latex">```
   parse(source: ExternalFormat) → ParsedData
   = case format_of(source) of
       JSON → parse_json(source)
       CSV → parse_csv(source)
       XML → parse_xml(source)
       _ → error("Unsupported format")</ns0:formal-definition>
    </ns0:operation>
    <ns0:operation>
      <ns0:name>Transform</ns0:name>
      <ns0:signature>transform(parsed: ParsedData) → InternalData</ns0:signature>
      <ns0:formal-definition format="latex">```
   transform(parsed: ParsedData) → InternalData
   = map_fields(parsed, field_mapping) ;
     validate_schema(result)</ns0:formal-definition>
    </ns0:operation>
  </ns0:operations>
  <ns0:manifestations>
    <ns0:manifestation>
      <ns0:name>File importers</ns0:name>
      <ns0:description>CSV, JSON, XML</ns0:description>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>Database migration tools</ns0:name>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>API integrations</ns0:name>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>Bulk data imports</ns0:name>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>Document converters</ns0:name>
    </ns0:manifestation>
  </ns0:manifestations>
</ns0:pattern>