<?xml version="1.0" ?>
<pattern xmlns="http://universal-corpus.org/schema/v1" id="P35" version="1.1">
  <metadata>
    <name>Split-Pane Layout</name>
    <category>pattern</category>
    <status>stable</status>
    <complexity>medium</complexity>
  </metadata>
  <definition>
    <tuple-notation format="latex">$S = (P, D, R, \delta_{35}, \sigma_{35})$</tuple-notation>
    <components>
      <component>
        <name>R</name>
        <type>P → [0,1]</type>
        <notation>R</notation>
        <description>maps panes to **proportional sizes**</description>
      </component>
      <component>
        <name>\delta_{35}</name>
        <type>P \times P → \{\text{splitter}, \text{null}\}</type>
        <notation>\delta_{35}</notation>
        <description>indicates splitters</description>
      </component>
      <component>
        <name>\sigma_{35}</name>
        <type>P → \{\text{visible}, \text{collapsed}\}</type>
        <notation>\sigma_{35}</notation>
        <description>**state function**</description>
      </component>
    </components>
  </definition>
  <properties>
    <property id="P.P35.1">
      <name>Size Conservation</name>
      <formal-spec format="latex">∑_{p ∈ P, σ₃₅(p) = visible} R(p) = 1</formal-spec>
    </property>
    <property id="P.P35.2">
      <name>Adjacency Constraints</name>
      <formal-spec format="latex">∀p_i, p_j ∈ P: δ₃₅(p_i, p_j) = splitter ⇔ adjacent(p_i, p_j)</formal-spec>
    </property>
    <property id="P.P35.3">
      <name>Minimum Size Constraint</name>
      <formal-spec format="latex">∀p ∈ P: R(p) ≥ R_min(p) ∨ σ₃₅(p) = collapsed</formal-spec>
    </property>
  </properties>
  <operations>
    <operation>
      <name>Resize</name>
      <signature>resize(p_i: Pane, p_j: Pane, Δ: ℝ) → Effect</signature>
      <formal-definition format="latex">```
   resize(p_i: Pane, p_j: Pane, Δ: ℝ) → Effect
   = if R_min(p_i) ≤ R(p_i) + Δ ≤ R_max(p_i):
       R(p_i) := R(p_i) + Δ
       R(p_j) := R(p_j) - Δ
2. **Toggle Collapse:
```
   toggle(p: Pane) → Effect
   = σ₃₅(p) := if σ₃₅(p) = visible then collapsed else visible
     redistribute_space()
3. Persist Layout:**
```
   persist(S) → Storage
   = save({pane_id: R(pane), state: σ₃₅(pane)} for pane in P)</formal-definition>
    </operation>
  </operations>
  <manifestations>
    <manifestation>
      <name>3-column CMS editor</name>
    </manifestation>
    <manifestation>
      <name>VS Code panels</name>
    </manifestation>
    <manifestation>
      <name>Split terminal windows</name>
    </manifestation>
    <manifestation>
      <name>IDE layouts</name>
    </manifestation>
  </manifestations>
</pattern>
