<?xml version='1.0' encoding='utf-8'?>
<ns0:pattern xmlns:ns0="http://universal-corpus.org/schema/v1" id="F3.2" version="1.1">
  <ns0:metadata>
    <ns0:name />
    <ns0:category>pattern</ns0:category>
    <ns0:status>stable</ns0:status>
    <ns0:complexity>medium</ns0:complexity>
  </ns0:metadata>
  <ns0:definition>
    <ns0:tuple-notation format="latex">$V = (validate, report, correct, verify)$</ns0:tuple-notation>
    <ns0:components>
      <ns0:component>
        <ns0:name>validate</ns0:name>
        <ns0:type>Data ‚Üí Set‚ü®Violation‚ü©</ns0:type>
        <ns0:notation>validate</ns0:notation>
        <ns0:description>checks constraints</ns0:description>
      </ns0:component>
      <ns0:component>
        <ns0:name>report</ns0:name>
        <ns0:type>Violation ‚Üí Notification</ns0:type>
        <ns0:notation>report</ns0:notation>
        <ns0:description>reports issues</ns0:description>
      </ns0:component>
      <ns0:component>
        <ns0:name>correct</ns0:name>
        <ns0:type>Violation ‚Üí Correction</ns0:type>
        <ns0:notation>correct</ns0:notation>
        <ns0:description>attempts fixes</ns0:description>
      </ns0:component>
      <ns0:component>
        <ns0:name>verify</ns0:name>
        <ns0:type>Correction ‚Üí ùîπ</ns0:type>
        <ns0:notation>verify</ns0:notation>
        <ns0:description>confirms fix</ns0:description>
      </ns0:component>
    </ns0:components>
  </ns0:definition>
  <ns0:type-definitions>
    <ns0:type-def>
      <ns0:name>Violation</ns0:name>
      <ns0:definition format="latex">(rule: Rule, location: Location, severity: Severity)</ns0:definition>
    </ns0:type-def>
    <ns0:type-def>
      <ns0:name>Rule</ns0:name>
      <ns0:definition format="latex">(id: String, check: Data ‚Üí ùîπ, message: String)</ns0:definition>
    </ns0:type-def>
    <ns0:type-def>
      <ns0:name>Correction</ns0:name>
      <ns0:definition format="latex">Automatic(fix: Fix) | Manual(suggestion: String)</ns0:definition>
    </ns0:type-def>
    <ns0:type-def>
      <ns0:name>Severity</ns0:name>
      <ns0:definition format="latex">Error | Warning | Info</ns0:definition>
    </ns0:type-def>
  </ns0:type-definitions>
  <ns0:properties>
    <ns0:property id="P.F3.2.1">
      <ns0:name>Completeness</ns0:name>
      <ns0:formal-spec format="latex">‚àÄd ‚àà Data: validate(d) finds all violations according to defined rules</ns0:formal-spec>
    </ns0:property>
    <ns0:property id="P.F3.2.2">
      <ns0:name>Non-Destructive</ns0:name>
      <ns0:formal-spec format="latex">‚àÄv ‚àà Violations: correct(v) preserves valid data</ns0:formal-spec>
    </ns0:property>
    <ns0:property id="P.F3.2.3">
      <ns0:name>Verification</ns0:name>
      <ns0:formal-spec format="latex">‚àÄc ‚àà Corrections: verify(c) ‚áí ¬¨violation_exists(after_correction)</ns0:formal-spec>
    </ns0:property>
  </ns0:properties>
  <ns0:operations>
    <ns0:operation>
      <ns0:name>Execute Validation</ns0:name>
      <ns0:signature>execute(data: Data) ‚Üí Report</ns0:signature>
      <ns0:formal-definition format="latex">```
   execute(data: Data) ‚Üí Report
   = violations := validate(data)
     if empty(violations):
       return Success
     else:
       for v in violations:
         report(v)
         if auto_correctable(v):
           correction := correct(v)
           if verify(correction):
             apply(correction)</ns0:formal-definition>
    </ns0:operation>
    <ns0:operation>
      <ns0:name>Validate</ns0:name>
      <ns0:signature>validate(data: Data) ‚Üí Set‚ü®Violation‚ü©</ns0:signature>
      <ns0:formal-definition format="latex">```
   validate(data: Data) ‚Üí Set‚ü®Violation‚ü©
   = violations := {}
     for rule in rules:
       if ¬¨rule.check(data):
         violations := violations ‚à™ {Violation(rule, location(data), severity(rule))}
     return violations</ns0:formal-definition>
    </ns0:operation>
    <ns0:operation>
      <ns0:name>Correct</ns0:name>
      <ns0:signature>correct(violation: Violation) ‚Üí Correction</ns0:signature>
      <ns0:formal-definition format="latex">```
   correct(violation: Violation) ‚Üí Correction
   = if has_automatic_fix(violation):
       return Automatic(generate_fix(violation))
     else:
       return Manual(suggest_fix(violation))</ns0:formal-definition>
    </ns0:operation>
  </ns0:operations>
  <ns0:manifestations>
    <ns0:manifestation>
      <ns0:name>Form validation with corrections</ns0:name>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>Code linters with auto-fix</ns0:name>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>Data quality checks</ns0:name>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>Schema validation</ns0:name>
    </ns0:manifestation>
    <ns0:manifestation>
      <ns0:name>Constraint satisfaction solvers</ns0:name>
    </ns0:manifestation>
  </ns0:manifestations>
</ns0:pattern>