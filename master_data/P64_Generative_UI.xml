<?xml version="1.0" ?>
<pattern xmlns="http://universal-corpus.org/schema/v1" id="P64" version="1.1">
  <metadata>
    <name>Generative UI</name>
    <category>pattern</category>
    <status>stable</status>
    <complexity>medium</complexity>
  </metadata>
  <definition>
    <tuple-notation format="latex">$G = (T_{lib}, ctx, gen, render, stream) : \text{ctx} \times T_{lib} \to \text{UI}_{dynamic}$</tuple-notation>
    <components>
      <component>
        <name>T_{lib}</name>
        <type>Set⟨ComponentTemplate⟩</type>
        <notation>T_{lib}</notation>
        <description>library of UI component templates</description>
      </component>
      <component>
        <name>ctx</name>
        <type>Context</type>
        <notation>ctx</notation>
        <description>current application context and state</description>
      </component>
      <component>
        <name>gen</name>
        <type>Context → ComponentSpec</type>
        <notation>gen</notation>
        <description>AI generator function that selects/configures components</description>
      </component>
      <component>
        <name>render</name>
        <type>ComponentSpec → UIElement</type>
        <notation>render</notation>
        <description>rendering function that creates UI from spec</description>
      </component>
      <component>
        <name>stream</name>
        <type>Stream⟨Token⟩</type>
        <notation>stream</notation>
        <description>token stream from LLM for progressive generation</description>
      </component>
    </components>
  </definition>
  <type-definitions>
    <type-def>
      <name>ComponentTemplate</name>
      <definition>$\text{ComponentTemplate} = (\text{name}, \text{props\_schema}, \text{render\_fn})$</definition>
    </type-def>
    <type-def>
      <name>ComponentSpec</name>
      <definition>$\text{ComponentSpec} = (\text{template}, \text{props}, \text{data}, \text{children})$</definition>
    </type-def>
    <type-def>
      <name>Context</name>
      <definition>$\text{Context} = \text{Map}(\text{Key}, \text{Value})$ (application state)</definition>
    </type-def>
    <type-def>
      <name>Token</name>
      <definition>$\text{Token} = \text{String}$ (LLM output token)</definition>
    </type-def>
  </type-definitions>
  <properties>
    <property id="P.P64.1">
      <name>Dynamic Generation</name>
      <formal-spec format="latex">$\forall c \in \text{Context} : gen(c) \to \text{ComponentSpec}$ (context-dependent UI generation)</formal-spec>
    </property>
    <property id="P.P64.2">
      <name>Streaming Render</name>
      <formal-spec format="latex">$\forall t \in stream : \exists \Delta UI : render(t) = \Delta UI$ (incremental rendering per token)</formal-spec>
    </property>
    <property id="P.P64.3">
      <name>Template Safety</name>
      <formal-spec format="latex">$\forall spec \in \text{ComponentSpec} : spec.template \in T_{lib}$ (only valid templates used)</formal-spec>
    </property>
    <property id="P.P64.4">
      <name>Real-Time Morphing</name>
      <formal-spec format="latex">$\Delta t_{morph} = t_{render}(\text{token}_i) - t_{receive}(\text{token}_i) &lt; 16ms$ (60fps responsiveness)</formal-spec>
    </property>
  </properties>
  <operations>
    <operation>
      <name>Generate Component</name>
      <signature>generate: Context → ComponentSpec</signature>
      <formal-definition format="latex">$\text{generate}(ctx) = spec$ where
  $spec.template = \text{LLM}_{selector}(ctx, T_{lib})$
  $spec.props = \text{LLM}_{props}(ctx)$
  $spec.data = \text{extract}(ctx)$
  $spec.children = \text{LLM}_{children}(ctx)$</formal-definition>
    </operation>
    <operation>
      <name>Stream Render</name>
      <signature>streamRender: Stream⟨Token⟩ → Stream⟨UIElement⟩</signature>
      <formal-definition format="latex">$\text{streamRender}(S) = \{render(\text{accumulate}(S[0:i])) \mid i \in [1..|S|]\}$
(progressive rendering as tokens arrive)</formal-definition>
    </operation>
    <operation>
      <name>Morph UI</name>
      <signature>morph: UIElement × ComponentSpec → UIElement</signature>
      <formal-definition format="latex">$\text{morph}(ui, spec) = ui'$ where
  $\text{diff} = \text{compute\_diff}(ui, spec)$
  $ui' = \text{apply}(\text{diff}, ui)$ (minimal DOM updates)</formal-definition>
    </operation>
  </operations>
  <dependencies>
    <uses>
      <pattern-ref>P65</pattern-ref>
      <pattern-ref>P112</pattern-ref>
      <pattern-ref>P115</pattern-ref>
    </uses>
  </dependencies>
  <manifestations>
    <manifestation>
      <name>Vercel AI SDK streamUI</name>
      <description>dynamic component generation from LLM</description>
    </manifestation>
    <manifestation>
      <name>ChatGPT UI morphing</name>
      <description>interface adapts to conversation context</description>
    </manifestation>
    <manifestation>
      <name>Claude Artifacts</name>
      <description>generated interactive UI components</description>
    </manifestation>
    <manifestation>
      <name>v0.dev generated interfaces</name>
      <description>AI-designed complete UIs from natural language</description>
    </manifestation>
  </manifestations>
</pattern>
